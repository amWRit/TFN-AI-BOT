"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/rag-alumni/route";
exports.ids = ["app/api/rag-alumni/route"];
exports.modules = {

/***/ "@langchain/community/vectorstores/faiss":
/*!**********************************************************!*\
  !*** external "@langchain/community/vectorstores/faiss" ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = require("@langchain/community/vectorstores/faiss");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frag-alumni%2Froute&page=%2Fapi%2Frag-alumni%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frag-alumni%2Froute.js&appDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frag-alumni%2Froute&page=%2Fapi%2Frag-alumni%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frag-alumni%2Froute.js&appDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_ark_Desktop_PythonSrc_Alumni_RAG_Project_Vercel_app_api_rag_alumni_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/rag-alumni/route.js */ \"(rsc)/./app/api/rag-alumni/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/rag-alumni/route\",\n        pathname: \"/api/rag-alumni\",\n        filename: \"route\",\n        bundlePath: \"app/api/rag-alumni/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\ark\\\\Desktop\\\\PythonSrc\\\\Alumni-RAG-Project -Vercel\\\\app\\\\api\\\\rag-alumni\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_ark_Desktop_PythonSrc_Alumni_RAG_Project_Vercel_app_api_rag_alumni_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/rag-alumni/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyYWctYWx1bW5pJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyYWctYWx1bW5pJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmFnLWFsdW1uaSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhcmslNUNEZXNrdG9wJTVDUHl0aG9uU3JjJTVDQWx1bW5pLVJBRy1Qcm9qZWN0JTIwLVZlcmNlbCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDYXJrJTVDRGVza3RvcCU1Q1B5dGhvblNyYyU1Q0FsdW1uaS1SQUctUHJvamVjdCUyMC1WZXJjZWwmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDOEM7QUFDM0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90Zm4tYWktdmVyY2VsLz9iODE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGFya1xcXFxEZXNrdG9wXFxcXFB5dGhvblNyY1xcXFxBbHVtbmktUkFHLVByb2plY3QgLVZlcmNlbFxcXFxhcHBcXFxcYXBpXFxcXHJhZy1hbHVtbmlcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JhZy1hbHVtbmkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yYWctYWx1bW5pXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yYWctYWx1bW5pL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcYXJrXFxcXERlc2t0b3BcXFxcUHl0aG9uU3JjXFxcXEFsdW1uaS1SQUctUHJvamVjdCAtVmVyY2VsXFxcXGFwcFxcXFxhcGlcXFxccmFnLWFsdW1uaVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9yYWctYWx1bW5pL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frag-alumni%2Froute&page=%2Fapi%2Frag-alumni%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frag-alumni%2Froute.js&appDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/rag-alumni/route.js":
/*!*************************************!*\
  !*** ./app/api/rag-alumni/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _langchain_aws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/aws */ \"(rsc)/./node_modules/@langchain/aws/index.js\");\n/* harmony import */ var _langchain_community_vectorstores_faiss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/community/vectorstores/faiss */ \"@langchain/community/vectorstores/faiss\");\n/* harmony import */ var _langchain_community_vectorstores_faiss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_langchain_community_vectorstores_faiss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _langchain_core_documents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/documents */ \"(rsc)/./node_modules/@langchain/core/documents.js\");\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/@langchain/core/runnables.js\");\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_7__);\n// app/api/rag-alumni/route.js - OPTIMIZED with Pre-built Vector Store (FAISS)\n\n\n\n\n\n\n\n\n\n// âœ… CACHE: Store vector store and LLM in memory\nlet cachedVectorStore = null;\nlet cachedLLM = null;\nlet cachedDocCount = 0;\nasync function getVectorStore() {\n    if (cachedVectorStore) {\n        console.log(\"âš¡ Using cached vector store (instant!)\");\n        return cachedVectorStore;\n    }\n    // Initialize embeddings (needed for loading)\n    const embeddings = new _langchain_aws__WEBPACK_IMPORTED_MODULE_0__.BedrockEmbeddings({\n        region: \"us-east-1\",\n        credentials: {\n            accessKeyId: \"ASIAY765AS4MCEZ63HE7\",\n            secretAccessKey: \"8wWPmiEppid392/LZCC6A0cH5FzZ7BRVlfMI3kzN\",\n            sessionToken: \"IQoJb3JpZ2luX2VjEHcaCXVzLWVhc3QtMSJHMEUCID06UEm2sA3Y4SrBEqIOOd50+d/aTLfgeQMgDrrdYp2jAiEA4deJaqkxSvaUiFfxIYepQSQ+sFc59gXz4FKo9dRFgqEqlAMIQBAAGgw2MTg0MDE5Mjg5ODQiDKY6SS78tM/HdoJHWirxAo7IydgUjCuesavDFQpFaxfPQSJZqHanx4ur7nFSsugjafELRkQf2VqQB1QXS0nbk0tpRKzU82wsOQ4G7lWExo+amgFNKpeRjphrhAVZzQ81eh92K+uWaR+9Cq4YEMtvflk1KMaIV4fIwfpzcOBh0dfc//P2AZY2bW8zskB88poq67E4sKVbgdeTj5w98zccGwtBNhPxl7gZ/zfyVNb2oK95UaJwGSfPt4lgVXONiaIqBjeuGw67NUwCOeaXU8mIbdfNi4y60w6DBBYgcURmeLJIRtbtAZ2X/zHHLK8fNWKfYW5VwX1r8cQtSqc1Pw50wjh3wM0E7CatRIT9QKp/TyJEy+uLPKNhTTe8L7pv2zh3XC3/4tgISOiLGtgLeP2/uQLD23YlhG0OYl3/um4Btw+zZeNC9LkTkR2pEn4qTXkQ1LnW/XgCyQVfyKPthtZ1NTeB2crPodDuwO/10CiDJ07L0tGc/pQDaFiA3EbK7cmisjCt3sTJBjqkAdELtvMscdnQDlNO4HLdvgwzUDQ/cVodIbSvqud/nb4E5INpKjRTszCKLxVyQBY4+B4S+Ah+iEkoNL9OaCM8AtWvg95Clg09OnHtROUVRYEePlgBgK/+rwn7JYr2D2MaxGgYuepHaEaIDv+0KoQ7035rMKAbko1RB5V5CL6vuKj3XjWQd7bLXwmQap7QTNsTle99kkM8pEfirLxVIWYvTf9hsoMH\" || 0\n        },\n        model: \"amazon.titan-embed-text-v2:0\"\n    });\n    // Try to load pre-built vector store from disk\n    const vectorStorePath = path__WEBPACK_IMPORTED_MODULE_6___default().join(process.cwd(), \"public\", \"vector-store\");\n    if (fs__WEBPACK_IMPORTED_MODULE_7___default().existsSync(vectorStorePath)) {\n        console.log(\"\\uD83D\\uDCE6 Loading pre-built vector store from disk...\");\n        try {\n            // Use loadFromPython for Python-generated FAISS stores\n            cachedVectorStore = await _langchain_community_vectorstores_faiss__WEBPACK_IMPORTED_MODULE_1__.FaissStore.loadFromPython(vectorStorePath, embeddings);\n            console.log(\"âœ… Pre-built vector store loaded (INSTANT!)\");\n            return cachedVectorStore;\n        } catch (error) {\n            console.warn(\"âš ï¸  Failed to load pre-built vector store:\", error.message);\n            console.log(\"   Falling back to runtime creation...\");\n        }\n    } else {\n        console.log(\"â„¹ï¸  No pre-built vector store found at:\", vectorStorePath);\n        console.log(\"   Run: python scripts/preprocess_docs.py\");\n        console.log(\"   Falling back to runtime creation...\");\n    }\n    // Fallback: Build vector store at runtime (slow)\n    console.log(\"\\uD83C\\uDD95 Building vector store at runtime (30-60 seconds)...\");\n    const docsUrl = process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}/tfn-documents.json` : \"http://localhost:3000/tfn-documents.json\";\n    const docsRes = await fetch(docsUrl);\n    if (!docsRes.ok) {\n        throw new Error(`Failed to fetch documents: ${docsRes.status}`);\n    }\n    const docs = await docsRes.json();\n    cachedDocCount = docs.length;\n    const documents = docs.map((doc)=>new _langchain_core_documents__WEBPACK_IMPORTED_MODULE_2__.Document({\n            pageContent: doc.content,\n            metadata: {\n                source: doc.source,\n                page: doc.page,\n                type: doc.type,\n                id: doc.id\n            }\n        })).filter((doc)=>doc.pageContent && doc.pageContent.trim().length > 0);\n    cachedVectorStore = await _langchain_community_vectorstores_faiss__WEBPACK_IMPORTED_MODULE_1__.FaissStore.fromDocuments(documents, embeddings);\n    console.log(\"âœ… Runtime vector store created and cached\");\n    return cachedVectorStore;\n}\nasync function POST(request) {\n    try {\n        const { query } = await request.json();\n        if (!query || query.trim().length === 0) {\n            return Response.json({\n                error: \"Query is required\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`ðŸ” Processing query: \"${query}\"`);\n        // Validate AWS credentials\n        if (false) {}\n        // Get vector store (pre-built or runtime)\n        const vectorStore = await getVectorStore();\n        const retriever = vectorStore.asRetriever({\n            k: 3\n        });\n        // Bedrock LLM (cached)\n        if (!cachedLLM) {\n            console.log(\"\\uD83E\\uDD16 Initializing Bedrock LLM...\");\n            cachedLLM = new _langchain_aws__WEBPACK_IMPORTED_MODULE_0__.ChatBedrockConverse({\n                model: \"amazon.nova-lite-v1:0\" || 0,\n                region: \"us-east-1\",\n                credentials: {\n                    accessKeyId: \"ASIAY765AS4MCEZ63HE7\",\n                    secretAccessKey: \"8wWPmiEppid392/LZCC6A0cH5FzZ7BRVlfMI3kzN\",\n                    sessionToken: \"IQoJb3JpZ2luX2VjEHcaCXVzLWVhc3QtMSJHMEUCID06UEm2sA3Y4SrBEqIOOd50+d/aTLfgeQMgDrrdYp2jAiEA4deJaqkxSvaUiFfxIYepQSQ+sFc59gXz4FKo9dRFgqEqlAMIQBAAGgw2MTg0MDE5Mjg5ODQiDKY6SS78tM/HdoJHWirxAo7IydgUjCuesavDFQpFaxfPQSJZqHanx4ur7nFSsugjafELRkQf2VqQB1QXS0nbk0tpRKzU82wsOQ4G7lWExo+amgFNKpeRjphrhAVZzQ81eh92K+uWaR+9Cq4YEMtvflk1KMaIV4fIwfpzcOBh0dfc//P2AZY2bW8zskB88poq67E4sKVbgdeTj5w98zccGwtBNhPxl7gZ/zfyVNb2oK95UaJwGSfPt4lgVXONiaIqBjeuGw67NUwCOeaXU8mIbdfNi4y60w6DBBYgcURmeLJIRtbtAZ2X/zHHLK8fNWKfYW5VwX1r8cQtSqc1Pw50wjh3wM0E7CatRIT9QKp/TyJEy+uLPKNhTTe8L7pv2zh3XC3/4tgISOiLGtgLeP2/uQLD23YlhG0OYl3/um4Btw+zZeNC9LkTkR2pEn4qTXkQ1LnW/XgCyQVfyKPthtZ1NTeB2crPodDuwO/10CiDJ07L0tGc/pQDaFiA3EbK7cmisjCt3sTJBjqkAdELtvMscdnQDlNO4HLdvgwzUDQ/cVodIbSvqud/nb4E5INpKjRTszCKLxVyQBY4+B4S+Ah+iEkoNL9OaCM8AtWvg95Clg09OnHtROUVRYEePlgBgK/+rwn7JYr2D2MaxGgYuepHaEaIDv+0KoQ7035rMKAbko1RB5V5CL6vuKj3XjWQd7bLXwmQap7QTNsTle99kkM8pEfirLxVIWYvTf9hsoMH\" || 0\n                },\n                temperature: parseFloat(process.env.LLM_TEMPERATURE || \"0.1\"),\n                maxTokens: 1024\n            });\n        } else {\n            console.log(\"âš¡ Using cached LLM\");\n        }\n        const model = cachedLLM;\n        // RAG Chain\n        const prompt = _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_3__.ChatPromptTemplate.fromTemplate(`\r\nAnswer using ONLY this TFN context (cite sources):\r\n\r\nCONTEXT:\r\n{context}\r\n\r\nQUESTION: {question}\r\n\r\nFormat: Answer first, then [Source: filename.pdf page X]`);\n        const chain = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_4__.RunnableSequence.from([\n            {\n                context: async (input)=>{\n                    const docs = await retriever.invoke(input);\n                    return docs.map((doc)=>doc.pageContent).join(\"\\n\\n\");\n                },\n                question: (input)=>input\n            },\n            prompt,\n            model,\n            new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_5__.StringOutputParser()\n        ]);\n        // Execute\n        console.log(\"\\uD83E\\uDD16 Running Bedrock RAG...\");\n        const answer = await chain.invoke(query);\n        const sources = await retriever.invoke(query);\n        console.log(\"âœ… RAG query completed successfully\");\n        return Response.json({\n            answer: answer.trim(),\n            sources: sources.map((doc)=>({\n                    source: doc.metadata.source,\n                    page: doc.metadata.page,\n                    content_preview: doc.pageContent.slice(0, 150) + \"...\"\n                })),\n            totalDocs: cachedDocCount,\n            preBuilt: fs__WEBPACK_IMPORTED_MODULE_7___default().existsSync(path__WEBPACK_IMPORTED_MODULE_6___default().join(process.cwd(), \"public\", \"vector-store\")),\n            cached: cachedVectorStore !== null,\n            status: \"success\"\n        });\n    } catch (error) {\n        console.error(\"âŒ Bedrock RAG Error:\", error);\n        return Response.json({\n            error: error.message,\n            details: error.toString(),\n            status: \"error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Clear cache endpoint\nasync function DELETE() {\n    cachedVectorStore = null;\n    cachedLLM = null;\n    cachedDocCount = 0;\n    console.log(\"\\uD83D\\uDDD1ï¸ Vector store and LLM cache cleared\");\n    return Response.json({\n        message: \"Cache cleared successfully\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU1tRSxTQUFTLE1BQU1OLE1BQU1JLE1BQU0sQ0FBQ2pCO1FBQ2xDLE1BQU1vQixVQUFVLE1BQU1qQixVQUFVYyxNQUFNLENBQUNqQjtRQUV2Q2pELFFBQVFDLEdBQUcsQ0FBQztRQUVaLE9BQU9pRCxTQUFTbEIsSUFBSSxDQUFDO1lBQ25Cb0MsUUFBUUEsT0FBT3ZCLElBQUk7WUFDbkJ3QixTQUFTQSxRQUFRbEMsR0FBRyxDQUFDQyxDQUFBQSxNQUFRO29CQUMzQkksUUFBUUosSUFBSUcsUUFBUSxDQUFDQyxNQUFNO29CQUMzQkMsTUFBTUwsSUFBSUcsUUFBUSxDQUFDRSxJQUFJO29CQUN2QjZCLGlCQUFpQmxDLElBQUlDLFdBQVcsQ0FBQ2tDLEtBQUssQ0FBQyxHQUFHLE9BQU87Z0JBQ25EO1lBQ0FDLFdBQVcxRTtZQUNYMkUsVUFBVTlFLG9EQUFhLENBQUNELGdEQUFTLENBQUNVLFFBQVFjLEdBQUcsSUFBSSxVQUFVO1lBQzNEd0QsUUFBUTlFLHNCQUFzQjtZQUM5QmtDLFFBQVE7UUFDVjtJQUVGLEVBQUUsT0FBT1QsT0FBTztRQUNkckIsUUFBUXFCLEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU82QixTQUFTbEIsSUFBSSxDQUFDO1lBQ25CWCxPQUFPQSxNQUFNRSxPQUFPO1lBQ3BCb0QsU0FBU3RELE1BQU11RCxRQUFRO1lBQ3ZCOUMsUUFBUTtRQUNWLEdBQUc7WUFBRUEsUUFBUTtRQUFJO0lBQ25CO0FBQ0Y7QUFFQSx1QkFBdUI7QUFDaEIsZUFBZStDO0lBQ3BCakYsb0JBQW9CO0lBQ3BCQyxZQUFZO0lBQ1pDLGlCQUFpQjtJQUNqQkUsUUFBUUMsR0FBRyxDQUFDO0lBQ1osT0FBT2lELFNBQVNsQixJQUFJLENBQUM7UUFBRVQsU0FBUztJQUE2QjtBQUMvRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Rmbi1haS12ZXJjZWwvLi9hcHAvYXBpL3JhZy1hbHVtbmkvcm91dGUuanM/OThiMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvYXBpL3JhZy1hbHVtbmkvcm91dGUuanMgLSBPUFRJTUlaRUQgd2l0aCBQcmUtYnVpbHQgVmVjdG9yIFN0b3JlIChGQUlTUylcclxuaW1wb3J0IHsgQ2hhdEJlZHJvY2tDb252ZXJzZSB9IGZyb20gXCJAbGFuZ2NoYWluL2F3c1wiO1xyXG5pbXBvcnQgeyBCZWRyb2NrRW1iZWRkaW5ncyB9IGZyb20gXCJAbGFuZ2NoYWluL2F3c1wiO1xyXG5pbXBvcnQgeyBGYWlzc1N0b3JlIH0gZnJvbSAnQGxhbmdjaGFpbi9jb21tdW5pdHkvdmVjdG9yc3RvcmVzL2ZhaXNzJztcclxuaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvZG9jdW1lbnRzJztcclxuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlIH0gZnJvbSAnQGxhbmdjaGFpbi9jb3JlL3Byb21wdHMnO1xyXG5pbXBvcnQgeyBSdW5uYWJsZVNlcXVlbmNlIH0gZnJvbSAnQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlcyc7XHJcbmltcG9ydCB7IFN0cmluZ091dHB1dFBhcnNlciB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vycyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5cclxuLy8g4pyFIENBQ0hFOiBTdG9yZSB2ZWN0b3Igc3RvcmUgYW5kIExMTSBpbiBtZW1vcnlcclxubGV0IGNhY2hlZFZlY3RvclN0b3JlID0gbnVsbDtcclxubGV0IGNhY2hlZExMTSA9IG51bGw7XHJcbmxldCBjYWNoZWREb2NDb3VudCA9IDA7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRWZWN0b3JTdG9yZSgpIHtcclxuICBpZiAoY2FjaGVkVmVjdG9yU3RvcmUpIHtcclxuICAgIGNvbnNvbGUubG9nKCfimqEgVXNpbmcgY2FjaGVkIHZlY3RvciBzdG9yZSAoaW5zdGFudCEpJyk7XHJcbiAgICByZXR1cm4gY2FjaGVkVmVjdG9yU3RvcmU7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0aWFsaXplIGVtYmVkZGluZ3MgKG5lZWRlZCBmb3IgbG9hZGluZylcclxuICBjb25zdCBlbWJlZGRpbmdzID0gbmV3IEJlZHJvY2tFbWJlZGRpbmdzKHtcclxuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTixcclxuICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BV1NfQUNDRVNTX0tFWV9JRCxcclxuICAgICAgc2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5BV1NfU0VDUkVUX0FDQ0VTU19LRVksXHJcbiAgICAgIHNlc3Npb25Ub2tlbjogcHJvY2Vzcy5lbnYuQVdTX1NFU1NJT05fVE9LRU4gfHwgdW5kZWZpbmVkLFxyXG4gICAgfSxcclxuICAgIG1vZGVsOiAnYW1hem9uLnRpdGFuLWVtYmVkLXRleHQtdjI6MCdcclxuICB9KTtcclxuXHJcbiAgLy8gVHJ5IHRvIGxvYWQgcHJlLWJ1aWx0IHZlY3RvciBzdG9yZSBmcm9tIGRpc2tcclxuICBjb25zdCB2ZWN0b3JTdG9yZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd2ZWN0b3Itc3RvcmUnKTtcclxuICBcclxuICBpZiAoZnMuZXhpc3RzU3luYyh2ZWN0b3JTdG9yZVBhdGgpKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TpiBMb2FkaW5nIHByZS1idWlsdCB2ZWN0b3Igc3RvcmUgZnJvbSBkaXNrLi4uJyk7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBVc2UgbG9hZEZyb21QeXRob24gZm9yIFB5dGhvbi1nZW5lcmF0ZWQgRkFJU1Mgc3RvcmVzXHJcbiAgICAgIGNhY2hlZFZlY3RvclN0b3JlID0gYXdhaXQgRmFpc3NTdG9yZS5sb2FkRnJvbVB5dGhvbih2ZWN0b3JTdG9yZVBhdGgsIGVtYmVkZGluZ3MpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFByZS1idWlsdCB2ZWN0b3Igc3RvcmUgbG9hZGVkIChJTlNUQU5UISknKTtcclxuICAgICAgcmV0dXJuIGNhY2hlZFZlY3RvclN0b3JlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gIEZhaWxlZCB0byBsb2FkIHByZS1idWlsdCB2ZWN0b3Igc3RvcmU6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCcgICBGYWxsaW5nIGJhY2sgdG8gcnVudGltZSBjcmVhdGlvbi4uLicpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZygn4oS577iPICBObyBwcmUtYnVpbHQgdmVjdG9yIHN0b3JlIGZvdW5kIGF0OicsIHZlY3RvclN0b3JlUGF0aCk7XHJcbiAgICBjb25zb2xlLmxvZygnICAgUnVuOiBweXRob24gc2NyaXB0cy9wcmVwcm9jZXNzX2RvY3MucHknKTtcclxuICAgIGNvbnNvbGUubG9nKCcgICBGYWxsaW5nIGJhY2sgdG8gcnVudGltZSBjcmVhdGlvbi4uLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmFsbGJhY2s6IEJ1aWxkIHZlY3RvciBzdG9yZSBhdCBydW50aW1lIChzbG93KVxyXG4gIGNvbnNvbGUubG9nKCfwn4aVIEJ1aWxkaW5nIHZlY3RvciBzdG9yZSBhdCBydW50aW1lICgzMC02MCBzZWNvbmRzKS4uLicpO1xyXG4gIFxyXG4gIGNvbnN0IGRvY3NVcmwgPSBwcm9jZXNzLmVudi5WRVJDRUxfVVJMIFxyXG4gICAgPyBgaHR0cHM6Ly8ke3Byb2Nlc3MuZW52LlZFUkNFTF9VUkx9L3Rmbi1kb2N1bWVudHMuanNvbmBcclxuICAgIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC90Zm4tZG9jdW1lbnRzLmpzb24nO1xyXG4gIFxyXG4gIGNvbnN0IGRvY3NSZXMgPSBhd2FpdCBmZXRjaChkb2NzVXJsKTtcclxuICBpZiAoIWRvY3NSZXMub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGRvY3VtZW50czogJHtkb2NzUmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRvY3MgPSBhd2FpdCBkb2NzUmVzLmpzb24oKTtcclxuICBjYWNoZWREb2NDb3VudCA9IGRvY3MubGVuZ3RoO1xyXG5cclxuICBjb25zdCBkb2N1bWVudHMgPSBkb2NzLm1hcChkb2MgPT4gbmV3IERvY3VtZW50KHtcclxuICAgIHBhZ2VDb250ZW50OiBkb2MuY29udGVudCxcclxuICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgIHNvdXJjZTogZG9jLnNvdXJjZSxcclxuICAgICAgcGFnZTogZG9jLnBhZ2UsXHJcbiAgICAgIHR5cGU6IGRvYy50eXBlLFxyXG4gICAgICBpZDogZG9jLmlkXHJcbiAgICB9XHJcbiAgfSkpLmZpbHRlcihkb2MgPT4gZG9jLnBhZ2VDb250ZW50ICYmIGRvYy5wYWdlQ29udGVudC50cmltKCkubGVuZ3RoID4gMCk7XHJcblxyXG4gIGNhY2hlZFZlY3RvclN0b3JlID0gYXdhaXQgRmFpc3NTdG9yZS5mcm9tRG9jdW1lbnRzKGRvY3VtZW50cywgZW1iZWRkaW5ncyk7XHJcbiAgY29uc29sZS5sb2coJ+KchSBSdW50aW1lIHZlY3RvciBzdG9yZSBjcmVhdGVkIGFuZCBjYWNoZWQnKTtcclxuICBcclxuICByZXR1cm4gY2FjaGVkVmVjdG9yU3RvcmU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBxdWVyeSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcblxyXG4gICAgaWYgKCFxdWVyeSB8fCBxdWVyeS50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdRdWVyeSBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+UjSBQcm9jZXNzaW5nIHF1ZXJ5OiBcIiR7cXVlcnl9XCJgKTtcclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBBV1MgY3JlZGVudGlhbHNcclxuICAgIGlmICghcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTiB8fCAhcHJvY2Vzcy5lbnYuQVdTX0FDQ0VTU19LRVlfSUQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBV1MgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdmVjdG9yIHN0b3JlIChwcmUtYnVpbHQgb3IgcnVudGltZSlcclxuICAgIGNvbnN0IHZlY3RvclN0b3JlID0gYXdhaXQgZ2V0VmVjdG9yU3RvcmUoKTtcclxuICAgIGNvbnN0IHJldHJpZXZlciA9IHZlY3RvclN0b3JlLmFzUmV0cmlldmVyKHsgazogMyB9KTtcclxuXHJcbiAgICAvLyBCZWRyb2NrIExMTSAoY2FjaGVkKVxyXG4gICAgaWYgKCFjYWNoZWRMTE0pIHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfpJYgSW5pdGlhbGl6aW5nIEJlZHJvY2sgTExNLi4uJyk7XHJcbiAgICAgIGNhY2hlZExMTSA9IG5ldyBDaGF0QmVkcm9ja0NvbnZlcnNlKHtcclxuICAgICAgICBtb2RlbDogcHJvY2Vzcy5lbnYuQkVEUk9DS19NT0RFTF9JRCB8fCAnYW1hem9uLm5vdmEtbGl0ZS12MTowJyxcclxuICAgICAgICByZWdpb246IHByb2Nlc3MuZW52LkFXU19SRUdJT04sXHJcbiAgICAgICAgY3JlZGVudGlhbHM6IHtcclxuICAgICAgICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BV1NfQUNDRVNTX0tFWV9JRCxcclxuICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLFxyXG4gICAgICAgICAgc2Vzc2lvblRva2VuOiBwcm9jZXNzLmVudi5BV1NfU0VTU0lPTl9UT0tFTiB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogcGFyc2VGbG9hdChwcm9jZXNzLmVudi5MTE1fVEVNUEVSQVRVUkUgfHwgJzAuMScpLFxyXG4gICAgICAgIG1heFRva2VuczogMTAyNFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqEgVXNpbmcgY2FjaGVkIExMTScpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbW9kZWwgPSBjYWNoZWRMTE07XHJcblxyXG4gICAgLy8gUkFHIENoYWluXHJcbiAgICBjb25zdCBwcm9tcHQgPSBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKGBcclxuQW5zd2VyIHVzaW5nIE9OTFkgdGhpcyBURk4gY29udGV4dCAoY2l0ZSBzb3VyY2VzKTpcclxuXHJcbkNPTlRFWFQ6XHJcbntjb250ZXh0fVxyXG5cclxuUVVFU1RJT046IHtxdWVzdGlvbn1cclxuXHJcbkZvcm1hdDogQW5zd2VyIGZpcnN0LCB0aGVuIFtTb3VyY2U6IGZpbGVuYW1lLnBkZiBwYWdlIFhdYCk7XHJcblxyXG4gICAgY29uc3QgY2hhaW4gPSBSdW5uYWJsZVNlcXVlbmNlLmZyb20oW1xyXG4gICAgICB7XHJcbiAgICAgICAgY29udGV4dDogYXN5bmMgKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgcmV0cmlldmVyLmludm9rZShpbnB1dCk7XHJcbiAgICAgICAgICByZXR1cm4gZG9jcy5tYXAoZG9jID0+IGRvYy5wYWdlQ29udGVudCkuam9pbignXFxuXFxuJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBxdWVzdGlvbjogKGlucHV0KSA9PiBpbnB1dFxyXG4gICAgICB9LFxyXG4gICAgICBwcm9tcHQsXHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICBuZXcgU3RyaW5nT3V0cHV0UGFyc2VyKClcclxuICAgIF0pO1xyXG5cclxuICAgIC8vIEV4ZWN1dGVcclxuICAgIGNvbnNvbGUubG9nKCfwn6SWIFJ1bm5pbmcgQmVkcm9jayBSQUcuLi4nKTtcclxuICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IGNoYWluLmludm9rZShxdWVyeSk7XHJcbiAgICBjb25zdCBzb3VyY2VzID0gYXdhaXQgcmV0cmlldmVyLmludm9rZShxdWVyeSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ+KchSBSQUcgcXVlcnkgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG5cclxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHtcclxuICAgICAgYW5zd2VyOiBhbnN3ZXIudHJpbSgpLFxyXG4gICAgICBzb3VyY2VzOiBzb3VyY2VzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICBzb3VyY2U6IGRvYy5tZXRhZGF0YS5zb3VyY2UsXHJcbiAgICAgICAgcGFnZTogZG9jLm1ldGFkYXRhLnBhZ2UsXHJcbiAgICAgICAgY29udGVudF9wcmV2aWV3OiBkb2MucGFnZUNvbnRlbnQuc2xpY2UoMCwgMTUwKSArICcuLi4nXHJcbiAgICAgIH0pKSxcclxuICAgICAgdG90YWxEb2NzOiBjYWNoZWREb2NDb3VudCxcclxuICAgICAgcHJlQnVpbHQ6IGZzLmV4aXN0c1N5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAndmVjdG9yLXN0b3JlJykpLFxyXG4gICAgICBjYWNoZWQ6IGNhY2hlZFZlY3RvclN0b3JlICE9PSBudWxsLFxyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJ1xyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQmVkcm9jayBSQUcgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgZGV0YWlsczogZXJyb3IudG9TdHJpbmcoKSxcclxuICAgICAgc3RhdHVzOiAnZXJyb3InXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQ2xlYXIgY2FjaGUgZW5kcG9pbnRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURSgpIHtcclxuICBjYWNoZWRWZWN0b3JTdG9yZSA9IG51bGw7XHJcbiAgY2FjaGVkTExNID0gbnVsbDtcclxuICBjYWNoZWREb2NDb3VudCA9IDA7XHJcbiAgY29uc29sZS5sb2coJ/Cfl5HvuI8gVmVjdG9yIHN0b3JlIGFuZCBMTE0gY2FjaGUgY2xlYXJlZCcpO1xyXG4gIHJldHVybiBSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ0NhY2hlIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxufSJdLCJuYW1lcyI6WyJDaGF0QmVkcm9ja0NvbnZlcnNlIiwiQmVkcm9ja0VtYmVkZGluZ3MiLCJGYWlzc1N0b3JlIiwiRG9jdW1lbnQiLCJDaGF0UHJvbXB0VGVtcGxhdGUiLCJSdW5uYWJsZVNlcXVlbmNlIiwiU3RyaW5nT3V0cHV0UGFyc2VyIiwicGF0aCIsImZzIiwiY2FjaGVkVmVjdG9yU3RvcmUiLCJjYWNoZWRMTE0iLCJjYWNoZWREb2NDb3VudCIsImdldFZlY3RvclN0b3JlIiwiY29uc29sZSIsImxvZyIsImVtYmVkZGluZ3MiLCJyZWdpb24iLCJwcm9jZXNzIiwiZW52IiwiQVdTX1JFR0lPTiIsImNyZWRlbnRpYWxzIiwiYWNjZXNzS2V5SWQiLCJBV1NfQUNDRVNTX0tFWV9JRCIsInNlY3JldEFjY2Vzc0tleSIsIkFXU19TRUNSRVRfQUNDRVNTX0tFWSIsInNlc3Npb25Ub2tlbiIsIkFXU19TRVNTSU9OX1RPS0VOIiwidW5kZWZpbmVkIiwibW9kZWwiLCJ2ZWN0b3JTdG9yZVBhdGgiLCJqb2luIiwiY3dkIiwiZXhpc3RzU3luYyIsImxvYWRGcm9tUHl0aG9uIiwiZXJyb3IiLCJ3YXJuIiwibWVzc2FnZSIsImRvY3NVcmwiLCJWRVJDRUxfVVJMIiwiZG9jc1JlcyIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsImRvY3MiLCJqc29uIiwibGVuZ3RoIiwiZG9jdW1lbnRzIiwibWFwIiwiZG9jIiwicGFnZUNvbnRlbnQiLCJjb250ZW50IiwibWV0YWRhdGEiLCJzb3VyY2UiLCJwYWdlIiwidHlwZSIsImlkIiwiZmlsdGVyIiwidHJpbSIsImZyb21Eb2N1bWVudHMiLCJQT1NUIiwicmVxdWVzdCIsInF1ZXJ5IiwiUmVzcG9uc2UiLCJ2ZWN0b3JTdG9yZSIsInJldHJpZXZlciIsImFzUmV0cmlldmVyIiwiayIsIkJFRFJPQ0tfTU9ERUxfSUQiLCJ0ZW1wZXJhdHVyZSIsInBhcnNlRmxvYXQiLCJMTE1fVEVNUEVSQVRVUkUiLCJtYXhUb2tlbnMiLCJwcm9tcHQiLCJmcm9tVGVtcGxhdGUiLCJjaGFpbiIsImZyb20iLCJjb250ZXh0IiwiaW5wdXQiLCJpbnZva2UiLCJxdWVzdGlvbiIsImFuc3dlciIsInNvdXJjZXMiLCJjb250ZW50X3ByZXZpZXciLCJzbGljZSIsInRvdGFsRG9jcyIsInByZUJ1aWx0IiwiY2FjaGVkIiwiZGV0YWlscyIsInRvU3RyaW5nIiwiREVMRVRFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/rag-alumni/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@aws-sdk","vendor-chunks/@smithy","vendor-chunks/next","vendor-chunks/@langchain","vendor-chunks/semver","vendor-chunks/zod-to-json-schema","vendor-chunks/zod","vendor-chunks/uuid","vendor-chunks/@cfworker","vendor-chunks/@aws-crypto","vendor-chunks/retry","vendor-chunks/p-queue","vendor-chunks/js-tiktoken","vendor-chunks/tslib","vendor-chunks/mustache","vendor-chunks/p-timeout","vendor-chunks/p-retry","vendor-chunks/p-finally","vendor-chunks/eventemitter3","vendor-chunks/decamelize","vendor-chunks/camelcase","vendor-chunks/base64-js","vendor-chunks/ansi-styles","vendor-chunks/@aws"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frag-alumni%2Froute&page=%2Fapi%2Frag-alumni%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frag-alumni%2Froute.js&appDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cark%5CDesktop%5CPythonSrc%5CAlumni-RAG-Project%20-Vercel&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();